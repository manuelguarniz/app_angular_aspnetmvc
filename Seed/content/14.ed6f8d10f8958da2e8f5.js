(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2BO4":function(t,e,a){"use strict";a.r(e),a.d(e,"IValidacionesModule",(function(){return Ut}));var i=a("ofXK"),o=a("tyNb"),n=a("M9IT"),r=a("Dh3D"),c=a("1G5W"),s=a("XNiG");const l=["trabajador","tipoValidacion","vigenciaDesde","vigenciaHasta","area","estado","accion"];var d=a("+0xr"),b=a("0IaG"),u=a("mrSG"),m=a("XKlN");let h=(()=>{class t{constructor(t){this.id=(null==t?void 0:t.id)||0,this.tipoValidacion=(null==t?void 0:t.tipoValidacion)||null,this.trabajador=(null==t?void 0:t.trabajador)||null,this.area=(null==t?void 0:t.area)||null,this.estado=(null==t?void 0:t.estado)||"-",this.vigenciaDesde=(null==t?void 0:t.vigenciaDesde)||null,this.vigenciaHasta=(null==t?void 0:t.vigenciaHasta)||null}}return Object(u.b)([Object(m.e)()],t.prototype,"id",void 0),Object(u.b)([Object(m.e)()],t.prototype,"tipoValidacion",void 0),Object(u.b)([Object(m.e)(),Object(m.f)({message:"* Selecciona Tipo de Validaci\xf3n."})],t.prototype,"tipoValidacionId",void 0),Object(u.b)([Object(m.e)()],t.prototype,"trabajador",void 0),Object(u.b)([Object(m.e)()],t.prototype,"trabajadorId",void 0),Object(u.b)([Object(m.e)()],t.prototype,"area",void 0),Object(u.b)([Object(m.e)(),Object(m.f)({message:"* Selecciona Area."})],t.prototype,"areaId",void 0),Object(u.b)([Object(m.e)()],t.prototype,"estado",void 0),Object(u.b)([Object(m.e)(),Object(m.f)()],t.prototype,"vigenciaDesde",void 0),Object(u.b)([Object(m.e)(),Object(m.f)()],t.prototype,"vigenciaHasta",void 0),t})();var p=a("3Pt+"),g=a("LAY5"),f=a("fXoL"),V=a("EIzb"),v=a("tk/3"),C=a("AytR"),j=a("A2WV"),I=a("Oj5W"),T=a("4E86");let S=(()=>{class t extends j.a{constructor(t,e,a){super(t,e),this.http=t,this.alertModalService=e,this.appSetting=a,this.$api=""+C.a.baseUrl}obtenerAreasList(){const t=this.$api+"area/listar",e=new v.d;return this.getMethod(t,e)}obtenerTipoValidaciones(){const t=this.$api+"tipo_validacion/listar_web",e=new v.d;return this.getMethod(t,e)}obtenerTrabajadores(){const t=this.$api+"trabajador/listar",e=new v.d;return this.getMethod(t,e,I.a.formatRequestTrabajadorList)}obtenerValidacionesList(){const t=this.$api+"validacion/listar",e=new v.d;return this.getMethod(t,e)}obtenerValidacionById(t){const e=`${this.$api}validacion/${t}`,a=new v.d;return this.getMethod(e,a)}upsertValidaciones(t){return t.id?this.updateValidaciones(t):this.insertValidaciones(t)}updateValidaciones(t){const e=`${this.$api}validacion/${t.id}`,a=I.a.formatResponseValidacionForms(t,this.appSetting.currentUser);return this.postMethod(e,a)}insertValidaciones(t){const e=this.$api+"validacion/agregar",a=I.a.formatResponseValidacionForms(t,this.appSetting.currentUser);return this.postMethod(e,a)}obtenerSerializadoFormatoImportacion(){return this.getMethodDownloadFile(`${this.$api}validacion/GenerarXls/${this.appSetting.isIntranet?"@":this.appSetting.proveedorId}`)}importMasivoValidaciones(t){const e=this.$api+"validacion/importar",a=I.a.formatResponseValidacionFormsList(t,this.appSetting.currentUser);return this.postMethod(e,a)}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(v.b),f.Zb(V.a),f.Zb(T.a))},t.\u0275prov=f.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=a("f0Cb"),w=a("bTqV"),D=a("Qu3c"),x=a("NFeN"),y=a("bv9b"),A=a("kmnG"),F=a("d3UM"),M=a("KZqF"),U=a("qFsG"),$=a("iadO"),_=a("FKr1");const G=["selectTipoValidacion"];function E(t,e){1&t&&f.Qb(0,"mat-progress-bar",7)}function P(t,e){if(1&t&&(f.Vb(0,"mat-option",24),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.nc("value",t.id),f.Cb(1),f.Kc("",t.nombre," ")}}function k(t,e){if(1&t&&(f.Vb(0,"mat-option",24),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.nc("value",t.id),f.Cb(1),f.Kc("",t.nombre," ")}}function R(t,e){if(1&t){const t=f.Wb();f.Vb(0,"form",8),f.Vb(1,"div",9),f.Qb(2,"div"),f.Vb(3,"mat-form-field",10),f.Vb(4,"mat-label"),f.Ic(5,"* Tipo de Validaci\xf3n"),f.Ub(),f.Vb(6,"mat-select",11,12),f.Gc(8,P,2,2,"mat-option",13),f.Ub(),f.Ub(),f.Vb(9,"pca-autocomplete-trabajador",14),f.dc("trabajadorSelected",(function(e){return f.Ac(t),f.hc().trabajadorSelected(e)})),f.Ub(),f.Vb(10,"mat-form-field",10),f.Vb(11,"mat-label"),f.Ic(12,"* \xc1rea:"),f.Ub(),f.Vb(13,"mat-select",15),f.Gc(14,k,2,2,"mat-option",13),f.Ub(),f.Ub(),f.Qb(15,"br"),f.Vb(16,"div",16),f.Vb(17,"mat-form-field",17),f.Vb(18,"mat-label"),f.Ic(19,"* Vigencia Desde"),f.Ub(),f.Vb(20,"input",18),f.dc("dateChange",(function(e){return f.Ac(t),f.hc().changeEventIni(e)})),f.Ub(),f.Qb(21,"mat-datepicker-toggle",19),f.Qb(22,"mat-datepicker",20,21),f.Ub(),f.Vb(24,"mat-form-field",17),f.Vb(25,"mat-label"),f.Ic(26,"* Vigencia Hasta"),f.Ub(),f.Vb(27,"input",22),f.dc("dateChange",(function(e){return f.Ac(t),f.hc().changeEventFin(e)})),f.Ub(),f.Qb(28,"mat-datepicker-toggle",19),f.Qb(29,"mat-datepicker",20,23),f.Ub(),f.Ic(31," \xa0\xa0\xa0 "),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=f.xc(23),e=f.xc(30),a=f.hc();f.nc("formGroup",a.validacionFormGroup),f.Cb(3),f.Fc("width",100,"%"),f.Cb(3),f.Gb("spinner",a.loadingArea),f.Cb(2),f.nc("ngForOf",a.tipoValidacion)("ngForTrackBy",a.trackByFn),f.Cb(1),f.nc("required",!0)("label","Buscar nombre del solicitante..."),f.Cb(1),f.Fc("width",100,"%"),f.Cb(3),f.Gb("spinner",a.loadingArea),f.Cb(1),f.nc("ngForOf",a.listArea)("ngForTrackBy",a.trackByFn),f.Cb(3),f.Fc("width",48,"%")("padding-right",4,"%"),f.Cb(3),f.nc("matDatepicker",t),f.Cb(1),f.nc("for",t),f.Cb(3),f.Fc("width",48,"%"),f.Cb(3),f.nc("matDatepicker",e)("min",a.minDate),f.Cb(1),f.nc("for",e)}}let B=(()=>{class t{constructor(t,e,a,i,o){this.formBuilder=t,this.alerModalService=e,this.dialogRef=a,this.data=i,this.iValidacionesService=o,this.unsubscribe$=new s.a,this.trabajador=[],this.tipoValidacion=[],this.loadingTipoValidacion=!1,this.trabid=[],this.loadingFormData=!1,this.controlTrabajador=new p.f,this.disabledForm=!1,this.listArea=[],this.loadingArea=!1,this.loadingSave=!1}ngOnInit(){this.obtenerAreas(),this.obtenerTipoValidaciones(),this.tituloForm="",this.validacionFormGroup=this.formBuilder.formGroup(new h),this.data&&this.data.id?this.obtenerValidacionById(this.data.id):(this.tituloForm="Registrar Validaci\xf3n",this.loadingFormData=!0)}ngAfterViewInit(){}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}changeEventIni(t){this.minDate=t.value}changeEventFin(t){this.maxDate=t.value}obtenerValidacionById(t){this.loadingFormData=!0,this.tituloForm="Modificar Validaci\xf3n",this.iValidacionesService.obtenerValidacionById(t).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{var e;t&&t.id&&(this.validacionFormGroup=this.formBuilder.formGroup(new h(t)),this.controlTrabajador.setValue(t.trabajador.trab_id),this.validacionFormGroup.get("areaId").setValue(null===(e=t.area)||void 0===e?void 0:e.id),this.validacionFormGroup.get("tipoValidacionId").setValue(t.tipoValidacion.id),this.validacionFormGroup.get("trabajadorId").setValue(t.trabajador.trab_id))})}obtenerAreas(){this.listArea=[],this.loadingArea=!0,this.iValidacionesService.obtenerAreasList().pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingArea=!1,t&&t.length>0&&(this.listArea=t)})}obtenerTipoValidaciones(){this.tipoValidacion=[],this.loadingTipoValidacion=!0,this.iValidacionesService.obtenerTipoValidaciones().pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingTipoValidacion=!1,t.length>0&&(this.tipoValidacion=t,this.loadingFormData=!1)})}trackByFn(t,e){return e.id}trabajadorSelected(t){let e=null;t&&(e={dni:t.dni,nombre_completo:t.Nombre,set_id:t.set_id,trab_id:t.trab_id}),this.validacionFormGroup.get("trabajador").setValue(e)}save(){if(!this.loadingSave){this.loadingSave=!0;const t=this.validacionFormGroup.value,e=this.validacionFormGroup.get("areaId").value,a=this.listArea.findIndex(t=>t.id===e);t.area=this.listArea[a];const i=this.validacionFormGroup.get("tipoValidacionId").value,o=this.tipoValidacion.findIndex(t=>t.id===i);t.tipoValidacion={id:this.tipoValidacion[o].id,nombreCompleto:this.tipoValidacion[o].nombre},this.iValidacionesService.upsertValidaciones(t).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingSave=!1,t>0&&(this.dialogRef.close(!0),this.alerModalService.alert(g.a.success,"Registro guardado"))})}}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(m.a),f.Pb(V.a),f.Pb(b.g),f.Pb(b.a),f.Pb(S))},t.\u0275cmp=f.Jb({type:t,selectors:[["pca-v-form"]],viewQuery:function(t,e){var a;1&t&&f.Nc(G,!0),2&t&&f.wc(a=f.ec())&&(e.selectTipoValidacion=a.first)},decls:16,vars:6,consts:[["mat-dialog-title",""],["layout","row","align","start"],[1,"form-button-row"],["mat-flat-button","","matTooltip","GUARDAR",1,"button-amarillo",3,"disabled","click"],["mat-flat-button","","mat-dialog-close","","matTooltip","CERRAR"],["mode","indeterminate",4,"ngIf"],[3,"formGroup",4,"ngIf"],["mode","indeterminate"],[3,"formGroup"],[1,"example-container"],["appearance","outline"],["formControlName","tipoValidacionId"],["selectTipoValidacion",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","trabajadorId",3,"required","label","trabajadorSelected"],["formControlName","areaId","aria-label","Seleccionar una opci\xf3n"],["aria-colspan","3"],["color","accent","appearance","outline",1,"datepickerSize"],["matInput","","formControlName","vigenciaDesde","disabled","",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["color","primary","disabled","false"],["picker1",""],["matInput","","formControlName","vigenciaHasta","disabled","",3,"matDatepicker","min","dateChange"],["picker2",""],[3,"value"]],template:function(t,e){1&t&&(f.Vb(0,"div"),f.Vb(1,"h2",0),f.Ic(2),f.Ub(),f.Qb(3,"mat-divider"),f.Vb(4,"mat-dialog-actions",1),f.Vb(5,"div",2),f.Vb(6,"button",3),f.dc("click",(function(){return e.save()})),f.Vb(7,"mat-icon"),f.Ic(8,"save"),f.Ub(),f.Ub(),f.Vb(9,"button",4),f.Vb(10,"mat-icon"),f.Ic(11,"arrow_back"),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Qb(12,"br"),f.Vb(13,"div"),f.Gc(14,E,1,0,"mat-progress-bar",5),f.Gc(15,R,32,26,"form",6),f.Ub(),f.Ub()),2&t&&(f.Cb(2),f.Jc(e.tituloForm),f.Cb(4),f.Gb("spinner",e.loadingSave),f.nc("disabled",!e.validacionFormGroup.valid),f.Cb(8),f.nc("ngIf",e.loadingFormData),f.Cb(1),f.nc("ngIf",!e.loadingFormData))},directives:[b.h,O.a,b.c,w.b,D.a,x.a,b.d,i.m,y.a,p.w,p.q,p.j,m.g,A.b,A.f,F.a,p.p,p.h,m.k,m.h,i.l,M.a,p.u,U.b,p.c,$.b,$.d,A.h,$.a,_.o],styles:["table[_ngcontent-%COMP%]{width:100%}.btn-def[_ngcontent-%COMP%]{background-color:#d7a312;color:#fff}.btn-margin-def[_ngcontent-%COMP%]{margin:0 20px 0 0}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width2[_ngcontent-%COMP%]{width:80%}.max-w[_ngcontent-%COMP%]{max-width:150px;width:100%}td[_ngcontent-%COMP%]{padding-right:8px}.label-align[_ngcontent-%COMP%], mat-grid-tile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:left}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.inline-radio[_ngcontent-%COMP%]{display:inline-block}.btn-right[_ngcontent-%COMP%]{margin-left:20px}.margin-bottom-btn[_ngcontent-%COMP%]{margin-bottom:20px}.mat-header-cell[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.text-inside[_ngcontent-%COMP%]{position:absolute;left:0}.inline[_ngcontent-%COMP%]{position:absolute}.inline[_ngcontent-%COMP%], .inline-r[_ngcontent-%COMP%]{display:inline-block}.inline-r[_ngcontent-%COMP%]{margin-left:140px;width:708px}.greenColor[_ngcontent-%COMP%]{color:green}.greenColor[_ngcontent-%COMP%], .redColor[_ngcontent-%COMP%]{font-size:25px;font-weight:700;text-transform:uppercase}.redColor[_ngcontent-%COMP%]{color:red}.margin-r[_ngcontent-%COMP%]{margin-right:20px}.t-center[_ngcontent-%COMP%]{text-align:center}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),t})();var L=a("RrUJ"),H=a("Bzqt"),N=a("TA6j"),q=function(t){return t.FormatoImportacion="Hoja4",t.MaestroArea="Hoja3",t.MaestroValidacion="Hoja2",t.MaestroTrabajadores="Hoja1",t}({}),Q=a("LRne"),K=a("eIep"),z=a("wd/R"),J=a("u/Yd"),W=a("7mxs");let Z=(()=>{class t{constructor(t,e,a){this.excelHelperService=t,this.caTrabajadorService=e,this.appSettings=a,this.maestroAreas=[],this.maestroValidaciones=[]}validationHeader(t){const e=[];if(t&&t.length){const a=Object.keys({"Trabajador DNI":"","T.Validacion Codigo":"","Vigencia Desde":"","Vigencia Hasta":"","\xc1rea":"",Estado:""}),i=Object.keys(t[0]);let o=0;for(const t of a)i[o]!==t&&e.push({line:1,message:`La cabecera "${i[o]}" deberia de cambiarse por "${t}".`}),o++}return e}columnsDataParams(){}validationColumns(t){var e,a,i;let o=null;const n=[];if(t&&t.length){const r=(null===(e=t.find(t=>t.sheetName===q.FormatoImportacion))||void 0===e?void 0:e.content)||[];this.maestroAreas=(null===(a=t.find(t=>t.sheetName===q.MaestroArea))||void 0===a?void 0:a.content)||[],this.maestroValidaciones=(null===(i=t.find(t=>t.sheetName===q.MaestroValidacion))||void 0===i?void 0:i.content)||[];for(const t of r){if(t["Trabajador DNI"]&&t["Trabajador DNI"].toString().length<8&&n.push({line:t.numLine,message:'El campo "Trabajador DNI" no debe ser vac\xedo'}),t["T.Validacion Codigo"]&&0===(""+t["T.Validacion Codigo"]).trim().length?n.push({line:t.numLine,message:'El campo "T.Validacion Codigo" no debe ser vac\xedo'}):this.maestroValidaciones.some(e=>(""+e["T.Validacion Codigo"]).trim()===(""+t["T.Validacion Codigo"]).trim())||n.push({line:t.numLine,dato:t["T.Validacion Codigo"],message:`El campo "T.Validacion Codigo" contiene una Validacion no registrado (Revisar Hoja: ${q.MaestroValidacion})`}),"number"==typeof t["Vigencia Desde"]){const e=L.a.getJsDateFromExcel(t["Vigencia Desde"]);t["Vigencia Desde"]=e?null:L.a.parseDateToShortString(e)}if(t["Vigencia Desde"]&&0===t["Vigencia Desde"].length?n.push({line:t.numLine,message:'Vigencia Desde" no debe ser vac\xedo'}):z(t["Vigencia Desde"],N.a.FORMAT_DATE_SHORT,!0).isValid()||n.push({line:t.numLine,dato:t["Vigencia Desde"],message:'El campo "Vigencia Desde" no tiene el formato v\xe1lido (DD/MM/AAAA)'}),"number"==typeof t["Vigencia Hasta"]){const e=L.a.getJsDateFromExcel(t["Vigencia Hasta"]);t["Vigencia Hasta"]=e?null:L.a.parseDateToShortString(e)}t["Vigencia Hasta"]&&0===t["Vigencia Hasta"].length?n.push({line:t.numLine,message:'Vigencia Hasta" no debe ser vac\xedo'}):z(t["Vigencia Hasta"],N.a.FORMAT_DATE_SHORT,!0).isValid()||n.push({line:t.numLine,dato:t["Vigencia Hasta"],message:'El campo "Vigencia Hasta" no tiene el formato v\xe1lido (DD/MM/AAAA)'}),t.\u00c1rea&&0===(""+t.\u00c1rea).trim().length?n.push({line:t.numLine,message:'El campo "\xc1rea" no debe ser vac\xedo'}):this.maestroAreas.some(e=>(""+e["Area Descripcion"]).trim()===(""+t.\u00c1rea).trim())||n.push({line:t.numLine,dato:t.\u00c1rea,message:`El campo "\xc1rea" contiene un \xc1rea no registrado (Revisar Hoja: ${q.MaestroArea})`})}o=n&&n.length?{errors:n}:{sheets:this.parseExcelSolicitudAcceso(r)}}return o}parseExcelSolicitudAcceso(t){let e=[];return t&&t.length&&(e=t.map(t=>({numLine:t.numLine,dniSolicitante:""+t["Trabajador DNI"],areaId:this.maestroAreas.find(e=>(""+e["Area Descripcion"]).trim()===(""+t.\u00c1rea).trim())["Area Codigo"],validacionCodigo:+(t["T.Validacion Codigo"]||0),vigenciaDesde:z(t["Vigencia Desde"],N.a.FORMAT_DATE_SHORT).toDate(),vigenciaHasta:z(t["Vigencia Hasta"],N.a.FORMAT_DATE_SHORT).toDate(),estado:t.Estado}))),e}getDataExcel(t){return this.excelHelperService.readerExcel(t).pipe(Object(K.a)(t=>{if(Array.isArray(t)&&t.length){const e=t.find(t=>t.sheetName===q.FormatoImportacion);if(e){const a=this.validationHeader(e.content);if(a&&a.length)return Object(Q.a)({errors:a});{const e=this.validationColumns(t);return e&&e.errors&&e.errors.length?Object(Q.a)({errors:e.errors}):this.validationDniImportados(e)}}return Object(Q.a)({errors:[{line:0,message:"No existe la hoja: "+q.FormatoImportacion}]})}return Object(Q.a)({errors:[{line:0,message:"No se logro leer el documento o est\xe1 vac\xedo."}]})}))}validationDniImportados(t){let e=t.sheets;const a=e.map(t=>t.dniSolicitante);return this.caTrabajadorService.consultaMasivamenteDnisTrabajador(a,this.appSettings.isIntranet?"":this.appSettings.proveedorId).pipe(Object(K.a)(t=>{const a=[],i=t.reduce((t,e)=>(t[e.dni.trim()]=e,t),[]);return e=e.map(t=>(t.trabajador=i[t.dniSolicitante.trim()],t)),e.filter(t=>!t.dniSolicitante).forEach(t=>{a.push({line:t.numLine,dato:t.dniSolicitante,message:'El campo "DNI" tiene un Documento de indentidad no registrado'})}),a&&a.length?Object(Q.a)({errors:a}):Object(Q.a)({sheets:e})}))}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(J.a),f.Zb(W.a),f.Zb(T.a))},t.\u0275prov=f.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var X=a("Xa2L");function Y(t,e){if(1&t&&(f.Vb(0,"mat-option",45),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.nc("value",t),f.Cb(1),f.Kc(" ",t," ")}}function tt(t,e){1&t&&(f.Vb(0,"mat-header-cell",46),f.Ic(1," Trabajador "),f.Ub())}function et(t,e){if(1&t&&(f.Vb(0,"mat-cell"),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.trabajador," ")}}function at(t,e){1&t&&(f.Vb(0,"mat-header-cell",47),f.Ic(1," Validaci\xf3n "),f.Ub())}function it(t,e){if(1&t&&(f.Vb(0,"mat-cell",48),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.tipoValidacion," ")}}function ot(t,e){1&t&&(f.Vb(0,"mat-header-cell",49),f.Ic(1," Vigencia desde "),f.Ub())}function nt(t,e){if(1&t&&(f.Vb(0,"mat-cell",50),f.Ic(1),f.ic(2,"date"),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc("",f.kc(2,1,t.vigenciaDesde,"dd/MM/yyyy")," ")}}function rt(t,e){1&t&&(f.Vb(0,"mat-header-cell",49),f.Ic(1," Vigencia hasta "),f.Ub())}function ct(t,e){if(1&t&&(f.Vb(0,"mat-cell",50),f.Ic(1),f.ic(2,"date"),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc("",f.kc(2,1,t.vigenciaHasta,"dd/MM/yyyy")," ")}}function st(t,e){1&t&&(f.Vb(0,"mat-header-cell",49),f.Ic(1," Area "),f.Ub())}function lt(t,e){if(1&t&&(f.Vb(0,"mat-cell",50),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.area," ")}}function dt(t,e){1&t&&(f.Vb(0,"mat-header-cell",51),f.Ic(1," Estado "),f.Ub())}function bt(t,e){if(1&t&&(f.Vb(0,"mat-cell",52),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.estado," ")}}function ut(t,e){1&t&&(f.Vb(0,"mat-header-cell",52),f.Ic(1," Acci\xf3n "),f.Ub())}function mt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"mat-icon",54),f.dc("click",(function(){f.Ac(t);const e=f.hc().$implicit;return f.hc().editValidacion(e.id)})),f.Ic(1,"edit"),f.Ub()}}function ht(t,e){if(1&t&&(f.Vb(0,"mat-cell",52),f.Gc(1,mt,2,0,"mat-icon",53),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.nc("ngIf",t.editable)}}function pt(t,e){1&t&&f.Qb(0,"mat-header-row")}function gt(t,e){1&t&&f.Qb(0,"mat-row")}function ft(t,e){1&t&&(f.Vb(0,"div",55),f.Qb(1,"mat-progress-spinner",56),f.Ub())}function Vt(t,e){1&t&&(f.Vb(0,"mat-header-cell",49),f.Ic(1," L\xednea "),f.Ub())}function vt(t,e){if(1&t&&(f.Vb(0,"mat-cell",50),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.line," ")}}function Ct(t,e){1&t&&(f.Vb(0,"mat-header-cell",47),f.Ic(1," Dato "),f.Ub())}function jt(t,e){if(1&t&&(f.Vb(0,"mat-cell",48),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.dato," ")}}function It(t,e){1&t&&(f.Vb(0,"mat-header-cell",46),f.Ic(1," Mensaje "),f.Ub())}function Tt(t,e){if(1&t&&(f.Vb(0,"mat-cell"),f.Ic(1),f.Ub()),2&t){const t=e.$implicit;f.Cb(1),f.Kc(" ",t.message," ")}}function St(t,e){1&t&&f.Qb(0,"mat-header-row")}function Ot(t,e){1&t&&f.Qb(0,"mat-row")}const wt=function(){return[10,25,50,100]},Dt=function(){return[10,20,50,100]},xt=[{path:"",component:(()=>{class t{constructor(t,e,a,i){this.dialog=t,this.alertModalService=e,this.iValidacionesService=a,this.iValidacionesInternalService=i,this.displayedColumns=l,this.dataSource=new d.k([]),this.tempValidaciones=[],this.listEstados=[],this.loadingTable=!1,this.loadingDownloadFile=!1,this.loadingImportFile=!1,this.dataSourceErrors=new d.k,this.displayedColumnsError=H.a,this.controlEstado=new p.f(""),this.unsubscribe$=new s.a,this.data=[{dia:"TODOS",valor:"1"},{dia:"Activo",valor:"2"}]}ngOnInit(){this.onChangeFilterEstado(),this.obtenerValidaciones()}ngAfterViewInit(){this.settingTable()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}settingTable(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}refreshTable(){this.obtenerValidaciones()}obtenerValidaciones(){this.dataSource.data=[],this.listEstados=[],this.loadingTable=!0,this.iValidacionesService.obtenerValidacionesList().pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingTable=!1,t.length>0&&(this.tempValidaciones=[...t],this.listEstados=[...new Set(t.filter(t=>t.estado).map(t=>t.estado))],this.dataSource.data=t)})}editValidacion(t){this.dialog.open(B,{data:{id:t},width:"550px",height:"470px",disableClose:!0}).afterClosed().pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{t&&this.refreshTable()})}addValidacion(){this.dialog.open(B,{width:"550px",height:"470px",disableClose:!1}).afterClosed().pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{t&&this.refreshTable()})}onChangeFilterEstado(){this.controlEstado.valueChanges.pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.dataSource.data=t?[...this.tempValidaciones.filter(e=>e.estado===t)]:[...this.tempValidaciones]})}selectFile(t){this.loadingImportFile=!0,this.iValidacionesInternalService.getDataExcel(t.target.files[0]).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{t.sheets?this.iValidacionesService.importMasivoValidaciones(t.sheets).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingImportFile=!1,t&&(this.dataSourceErrors.data=[],this.alertModalService.alert(g.a.success,"El archivo se ha cargado con \xe9xito."),this.refreshTable())}):(this.loadingImportFile=!1,this.dataSourceErrors.data=t.errors,this.alertModalService.alert(g.a.error,"No se logro importar el archivo, revisar la secci\xf3n de errores."))})}downloadFormato(){this.loadingDownloadFile||(this.loadingDownloadFile=!0,this.iValidacionesService.obtenerSerializadoFormatoImportacion().pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingDownloadFile=!1,t&&L.a.saveAsExcelFile(t,"formato_importacion_validaciones.xlsx")}))}applyFilter(t){this.dataSource.filter=t.target.value.trim().toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(b.b),f.Pb(V.a),f.Pb(S),f.Pb(Z))},t.\u0275cmp=f.Jb({type:t,selectors:[["pca-v-list"]],viewQuery:function(t,e){var a;1&t&&(f.Nc(n.a,!0),f.Ec(r.a,!0)),2&t&&(f.wc(a=f.ec())&&(e.paginator=a.first),f.wc(a=f.ec())&&(e.sort=a.first))},decls:81,vars:19,consts:[[1,"example-button-row"],["mat-flat-button","","matTooltip","AGREGAR",1,"button-amarillo",3,"click"],["mat-flat-button","","matTooltip","REFRESCAR",1,"button-amarillo",3,"click"],["mat-raised-button","","type","submit",1,"btn-def","btn-margin-def","mr-3",3,"click"],["matTooltip","Descargar formato de importaci\xf3n"],["mat-raised-button","","type","submit",1,"btn-def","btn-margin-def",3,"click"],["matTooltip","Importar solicitudes"],["hidden","","type","file","name","import","accept",".xlsx,.xlx","onclick","this.value=null",3,"change"],["inputFile",""],["hidden","","type","file","id","file"],["fileInput",""],["appearance","outline",1,"ml-3"],[3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-50"],["matInput","",3,"keyup"],["mat-icon-button","","matSuffix",""],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","trabajador"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","tipoValidacion"],["mat-sort-header","","style","max-width: 200px;",4,"matHeaderCellDef"],["style","max-width: 200px;",4,"matCellDef"],["matColumnDef","vigenciaDesde"],["mat-sort-header","","style","max-width: 150px;",4,"matHeaderCellDef"],["style","max-width: 150px;",4,"matCellDef"],["matColumnDef","vigenciaHasta"],["matColumnDef","area"],["matColumnDef","estado"],["mat-sort-header","","style","max-width: 100px;",4,"matHeaderCellDef"],["style","max-width: 100px;",4,"matCellDef"],["matColumnDef","accion"],["style","max-width: 100px;",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","container-spinner-loading",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"primary",2,"text-align","left",3,"hidden"],[1,"mat-elevation-z8",3,"hidden"],["matColumnDef","line"],["matColumnDef","dato"],["matColumnDef","mensaje"],[3,"value"],["mat-sort-header",""],["mat-sort-header","",2,"max-width","200px"],[2,"max-width","200px"],["mat-sort-header","",2,"max-width","150px"],[2,"max-width","150px"],["mat-sort-header","",2,"max-width","100px"],[2,"max-width","100px"],["class","table-btn-editar","matTooltip","Editar",3,"click",4,"ngIf"],["matTooltip","Editar",1,"table-btn-editar",3,"click"],[1,"container-spinner-loading"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=f.Wb();f.Vb(0,"h2"),f.Ic(1,"VALIDACIONES"),f.Ub(),f.Vb(2,"section"),f.Vb(3,"div",0),f.Vb(4,"button",1),f.dc("click",(function(){return e.addValidacion()})),f.Vb(5,"mat-icon"),f.Ic(6,"add"),f.Ub(),f.Ub(),f.Vb(7,"button",2),f.dc("click",(function(){return e.refreshTable()})),f.Vb(8,"mat-icon"),f.Ic(9,"refresh"),f.Ub(),f.Ub(),f.Vb(10,"button",3),f.dc("click",(function(){return e.downloadFormato()})),f.Ic(11," Generar Formato "),f.Vb(12,"mat-icon",4),f.Ic(13,"download"),f.Ub(),f.Ub(),f.Vb(14,"button",5),f.dc("click",(function(){return f.Ac(t),f.xc(19).click()})),f.Ic(15," Importar "),f.Vb(16,"mat-icon",6),f.Ic(17,"upload"),f.Ub(),f.Vb(18,"input",7,8),f.dc("change",(function(t){return e.selectFile(t)})),f.Ub(),f.Ub(),f.Qb(20,"input",9,10),f.Vb(22,"mat-form-field",11),f.Vb(23,"mat-label"),f.Ic(24,"Filtro Estado"),f.Ub(),f.Vb(25,"mat-select",12),f.Vb(26,"mat-option",13),f.Ic(27,"Todos"),f.Ub(),f.Gc(28,Y,2,2,"mat-option",14),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Qb(29,"br"),f.Vb(30,"mat-form-field",15),f.Vb(31,"mat-label"),f.Ic(32,"Busqueda"),f.Ub(),f.Vb(33,"input",16),f.dc("keyup",(function(t){return e.applyFilter(t)})),f.Ub(),f.Vb(34,"a",17),f.Vb(35,"mat-icon"),f.Ic(36,"search"),f.Ub(),f.Ub(),f.Ub(),f.Vb(37,"div",18),f.Vb(38,"mat-table",19),f.Tb(39,20),f.Gc(40,tt,2,0,"mat-header-cell",21),f.Gc(41,et,2,1,"mat-cell",22),f.Sb(),f.Tb(42,23),f.Gc(43,at,2,0,"mat-header-cell",24),f.Gc(44,it,2,1,"mat-cell",25),f.Sb(),f.Tb(45,26),f.Gc(46,ot,2,0,"mat-header-cell",27),f.Gc(47,nt,3,4,"mat-cell",28),f.Sb(),f.Tb(48,29),f.Gc(49,rt,2,0,"mat-header-cell",27),f.Gc(50,ct,3,4,"mat-cell",28),f.Sb(),f.Tb(51,30),f.Gc(52,st,2,0,"mat-header-cell",27),f.Gc(53,lt,2,1,"mat-cell",28),f.Sb(),f.Tb(54,31),f.Gc(55,dt,2,0,"mat-header-cell",32),f.Gc(56,bt,2,1,"mat-cell",33),f.Sb(),f.Tb(57,34),f.Gc(58,ut,2,0,"mat-header-cell",35),f.Gc(59,ht,2,1,"mat-cell",33),f.Sb(),f.Gc(60,pt,1,0,"mat-header-row",36),f.Gc(61,gt,1,0,"mat-row",37),f.Ub(),f.Gc(62,ft,2,0,"div",38),f.Qb(63,"mat-paginator",39),f.Ub(),f.Qb(64,"br"),f.Vb(65,"h2",40),f.Ic(66,"Errores"),f.Ub(),f.Vb(67,"div",41),f.Vb(68,"mat-table",19),f.Tb(69,42),f.Gc(70,Vt,2,0,"mat-header-cell",27),f.Gc(71,vt,2,1,"mat-cell",28),f.Sb(),f.Tb(72,43),f.Gc(73,Ct,2,0,"mat-header-cell",24),f.Gc(74,jt,2,1,"mat-cell",25),f.Sb(),f.Tb(75,44),f.Gc(76,It,2,0,"mat-header-cell",21),f.Gc(77,Tt,2,1,"mat-cell",22),f.Sb(),f.Gc(78,St,1,0,"mat-header-row",36),f.Gc(79,Ot,1,0,"mat-row",37),f.Ub(),f.Qb(80,"mat-paginator",39),f.Ub()}2&t&&(f.Cb(10),f.Gb("spinner",e.loadingDownloadFile),f.Cb(4),f.Gb("spinner",e.loadingImportFile),f.Cb(11),f.nc("formControl",e.controlEstado),f.Cb(3),f.nc("ngForOf",e.listEstados),f.Cb(10),f.nc("dataSource",e.dataSource),f.Cb(22),f.nc("matHeaderRowDef",e.displayedColumns),f.Cb(1),f.nc("matRowDefColumns",e.displayedColumns),f.Cb(1),f.nc("ngIf",e.loadingTable),f.Cb(1),f.nc("pageSizeOptions",f.qc(17,wt)),f.Cb(2),f.nc("hidden",!e.dataSourceErrors||0==e.dataSourceErrors.data.length),f.Cb(2),f.nc("hidden",!e.dataSourceErrors||0==e.dataSourceErrors.data.length),f.Cb(1),f.nc("dataSource",e.dataSourceErrors),f.Cb(10),f.nc("matHeaderRowDef",e.displayedColumnsError),f.Cb(1),f.nc("matRowDefColumns",e.displayedColumnsError),f.Cb(1),f.nc("pageSizeOptions",f.qc(18,Dt)))},directives:[w.b,D.a,x.a,m.i,m.j,A.b,A.f,F.a,p.p,p.g,m.k,m.h,_.o,i.l,U.b,w.a,A.h,d.j,r.a,d.c,d.e,d.b,d.g,d.i,i.m,n.a,d.d,r.b,d.a,d.f,d.h,X.a],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background-color:#d7a312;color:#fff}.margin-btn[_ngcontent-%COMP%]{margin:0 20px 0 0}.p-absolute[_ngcontent-%COMP%]{position:absolute}.margin-r[_ngcontent-%COMP%]{margin-right:20px}div.inline[_ngcontent-%COMP%]{margin-right:20px}div.inline[_ngcontent-%COMP%], div.inline-r[_ngcontent-%COMP%]{float:left;margin-top:20px;margin-bottom:20px}div.inline-r[_ngcontent-%COMP%]{margin-right:500px}.w-500[_ngcontent-%COMP%]{width:500px}.margin-b[_ngcontent-%COMP%]{margin-bottom:30px;clear:both}"]}),t})()}];let yt=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[o.d.forChild(xt)],o.d]}),t})();var At=a("PCNd"),Ft=a("xf9H"),Mt=a("fawr");let Ut=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[i.c,Ft.a,At.a,yt,p.k,p.t,m.b,Mt.a]]}),t})()},"7mxs":function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var i=a("tk/3"),o=a("Oj5W"),n=a("AytR"),r=a("M5Uu"),c=a("LAY5"),s=a("A2WV"),l=a("LRne"),d=a("lJxs"),b=a("fXoL"),u=a("EIzb"),m=a("4E86");let h=(()=>{class t extends s.a{constructor(t,e,a){super(t,e),this.http=t,this.alertModalService=e,this.appSettings=a,this.$api=""+n.a.baseUrl}getPersonal(){const t=`${this.$api}${r.a.TRABAJADOR_LISTAR}`,e=new i.d;return this.getMethod(t,e,o.a.formatRequestPersonalList)}obtenerTrabajdoresPorBusquedaTexto(t,e){let a=`${this.$api}${r.a.TRABAJADOR_LISTAR}`;const n=new i.d;t&&(a=a.concat("?texto="+t));const c=-1!==a.indexOf("?")?"&":"?";return this.appSettings.isIntranet?e&&(a=a.concat(`${c}empresaId=${e}`)):a=a.concat(`${c}empresaId=${this.appSettings.proveedorId}`),this.getMethod(a,n,o.a.formatRequestPersonalList)}consultaDnisTrabajador(t){let e=`${this.$api}${r.a.TRABAJADOR_DNI}`;const a=new i.d;return t&&t.length&&(e=e.concat("?dnis="+JSON.stringify(t))),this.getMethod(e,a,o.a.formatRequestTrabajadorSearchDniList)}consultaMasivamenteDnisTrabajador(t,e,a=!1){return this.postMethod(`${this.$api}${r.a.TRABAJADOR_CONSULTA_DNI}`,{ListaDnis:t,ProveedorId:e,validaProveedor:a}).pipe(Object(d.a)(t=>o.a.formatRequestTrabajadorSearchDniList(t)))}obtenerTrabajadoresByParams(t,e){if(t&&e){let a=`${this.$api}${r.a.TRABAJADOR_PLANILLA}?planilla=${t}&departamaneto=${e}`;this.appSettings.isIntranet||(a=a.concat("&proveedorId="+this.appSettings.proveedorId));const n=new i.d;return this.getMethod(a,n,o.a.formatRequestTrabajadorSearchDniList)}return this.alertModalService.alert(c.a.warning,"Se requiere los parametros planilla y departamento"),Object(l.a)([])}}return t.\u0275fac=function(e){return new(e||t)(b.Zb(i.b),b.Zb(u.a),b.Zb(m.a))},t.\u0275prov=b.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Bzqt:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));const i=["line","dato","mensaje"]},KZqF:function(t,e,a){"use strict";a.d(e,"a",(function(){return T}));var i=a("fXoL"),o=a("3Pt+"),n=a("XNiG"),r=a("1G5W"),c=a("Kj3r"),s=a("/uUt"),l=a("7mxs"),d=a("EHkv"),b=a("kmnG"),u=a("ofXK"),m=a("qFsG"),h=a("/1cH"),p=a("bTqV"),g=a("NFeN"),f=a("FKr1");function V(t,e){1&t&&(i.Vb(0,"span"),i.Ic(1,"*"),i.Ub())}function v(t,e){if(1&t){const t=i.Wb();i.Tb(0),i.Vb(1,"mat-icon",10),i.dc("click",(function(){return i.Ac(t),i.hc(2).cleanInput()})),i.Ic(2,"close"),i.Ub(),i.Sb()}}function C(t,e){if(1&t&&(i.Vb(0,"mat-icon"),i.Ic(1),i.Ub()),2&t){const t=i.hc(2);i.Cb(1),i.Jc(t.matIcon)}}function j(t,e){if(1&t&&(i.Vb(0,"a",7),i.Gc(1,v,3,0,"ng-container",8),i.Gc(2,C,2,1,"ng-template",null,9,i.Hc),i.Ub()),2&t){const t=i.xc(3),e=i.hc();i.Gb("spinner",e.loadingBuscarTrabajador),i.Cb(1),i.nc("ngIf",e.controlTrabajadorBuscar.value)("ngIfElse",t)}}function I(t,e){if(1&t&&(i.Vb(0,"mat-option",11),i.Ic(1),i.Ub()),2&t){const t=e.$implicit;i.nc("value",t.trab_id),i.Cb(1),i.Lc(" ",t.Apellidos," ",t.Nombre," ")}}let T=(()=>{class t{constructor(t,e){this.caTrabajadorService=t,this.platformService=e,this.errorMessage="",this.label="Buscar Trabajadores",this.matIcon="search",this.placeholder="",this.readonly=!1,this.required=!1,this.empresaId="",this.trabajadorSelected=new i.o,this.listTrabajadores=[],this.loadingBuscarTrabajador=!1,this.filteredTrabajador=new n.a,this.controlTrabajadorBuscar=new o.f,this.unsubscribe$=new n.a,this.onChange=t=>{},this.onTouch=()=>{},this.displayTrabajadorWithFn=t=>{let e=this.controlTrabajadorBuscar.value||"";if(t){const a=this.listTrabajadores.find(e=>e.trab_id===t);a&&(this.onTouch(),this.onChange(a.trab_id),this.trabajadorSelected.next(a),e=`${a.Apellidos} ${a.Nombre}`)}return e}}ngOnInit(){this.required&&(this.controlTrabajadorBuscar=new o.f(null,o.v.required)),this.initializeSubscriptionChangeValueBusquedTrabajador()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}ngAfterViewInit(){}writeValue(t){this.controlTrabajadorBuscar.setValue(t||null)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){t?this.controlTrabajadorBuscar.disable():this.controlTrabajadorBuscar.enable()}initializeSubscriptionChangeValueBusquedTrabajador(){this.controlTrabajadorBuscar.valueChanges.pipe(Object(r.a)(this.unsubscribe$),Object(c.a)(400),Object(s.a)()).subscribe(t=>{if(!t||!t.trim())return this.filteredTrabajador.next([]),void(this.listTrabajadores=[]);this.subcriptionBuscarTrabajador&&this.subcriptionBuscarTrabajador.unsubscribe();const e=(this.listTrabajadores||[]).find(e=>e.trab_id===t);e&&e.trab_id||(this.loadingBuscarTrabajador=!0,this.subcriptionBuscarTrabajador=this.caTrabajadorService.obtenerTrabajdoresPorBusquedaTexto(t,this.empresaId).pipe(Object(r.a)(this.unsubscribe$)).subscribe(t=>{this.loadingBuscarTrabajador=!1,this.listTrabajadores=t||[],this.filteredTrabajador.next(t||[]),this.controlTrabajadorBuscar.value&&this.controlTrabajadorBuscar.setValue(this.controlTrabajadorBuscar.value)}))})}cleanInput(){this.onTouch(),this.onChange(null),this.trabajadorSelected.next(null),this.controlTrabajadorBuscar.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(l.a),i.Pb(d.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["pca-autocomplete-trabajador"]],inputs:{errorMessage:"errorMessage",label:"label",matIcon:"matIcon",placeholder:"placeholder",readonly:"readonly",required:"required",empresaId:"empresaId"},outputs:{trabajadorSelected:"trabajadorSelected"},features:[i.Bb([{provide:o.n,useExisting:Object(i.U)(()=>t),multi:!0}])],decls:10,vars:15,consts:[["appearance","outline",1,"w-100"],[4,"ngIf"],["matInput","",3,"placeholder","formControl","matAutocomplete","readonly"],["mat-icon-button","","matSuffix","",3,"spinner",4,"ngIf"],[3,"displayWith"],["autoTrabajador","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Vb(0,"mat-form-field",0),i.Vb(1,"mat-label"),i.Ic(2),i.Gc(3,V,2,0,"span",1),i.Ub(),i.Qb(4,"input",2),i.Gc(5,j,4,4,"a",3),i.Vb(6,"mat-autocomplete",4,5),i.Gc(8,I,2,3,"mat-option",6),i.ic(9,"async"),i.Ub(),i.Ub()),2&t){const t=i.xc(7);i.Fc("font-size",e.platformService.fontZize(),"rem")("color",e.controlTrabajadorBuscar.errors&&e.controlTrabajadorBuscar.touched?"red !important":null),i.Cb(2),i.Kc("",e.label," "),i.Cb(1),i.nc("ngIf",e.required),i.Cb(1),i.nc("placeholder",e.placeholder)("formControl",e.controlTrabajadorBuscar)("matAutocomplete",t)("readonly",e.readonly),i.Cb(1),i.nc("ngIf",!e.readonly&&!e.controlTrabajadorBuscar.disabled),i.Cb(1),i.nc("displayWith",e.displayTrabajadorWithFn),i.Cb(2),i.nc("ngForOf",i.jc(9,13,e.filteredTrabajador))}},directives:[b.b,b.f,u.m,m.b,o.c,h.c,o.p,o.g,h.a,u.l,p.a,b.h,g.a,f.o],pipes:[u.b],styles:["[_nghost-%COMP%]{width:100%;padding:0;margin:0;display:flex;justify-content:center}"]}),t})()},"u/Yd":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("HDdC"),o=a("EUZL"),n=a("fXoL");let r=(()=>{class t{readerExcel(t,e){return new i.a(a=>{const i=[];this.includeBlankRows=(null==e?void 0:e.includeBlankRows)||!1;try{if(t){const e=new FileReader;e.onload=t=>{const e=o.read(t.target.result,{type:"binary"}),i=this.getSheet(e);a.next(i)},e.readAsBinaryString(t)}}catch(n){a.next(i)}})}getSheet(t){const e=[];for(const a of t.SheetNames){const i=t.SheetNames.reduce((e,i)=>(e[i]=this.getContentByFileName(t,a),e),{});e.push({sheetName:a,content:i[a]})}return e}getContentByFileName(t,e){let a=[];const i=t.Sheets[e];return a=o.utils.sheet_to_json(i,{blankrows:!!this.includeBlankRows,defval:"",range:this.builderRange(i)}),a.map((t,e)=>(t.numLine=e+1+1,t))}builderRange(t,e,a){return t["!ref"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);