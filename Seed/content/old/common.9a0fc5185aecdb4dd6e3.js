(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1GFE":function(t,o,n){"use strict";n.d(o,"a",(function(){return w}));var e=n("fXoL"),r=n("3Pt+"),l=n("XNiG"),i=n("1G5W"),s=n("lJxs"),c=n("pLZG"),a=n("/uUt"),u=n("Mdhe"),b=n("EHkv"),h=n("kmnG"),d=n("ofXK"),p=n("qFsG"),f=n("/1cH"),C=n("bTqV"),m=n("NFeN"),P=n("FKr1");function g(t,o){1&t&&(e.Vb(0,"span"),e.Ic(1,"*"),e.Ub())}function I(t,o){if(1&t){const t=e.Wb();e.Tb(0),e.Vb(1,"mat-icon",10),e.dc("click",(function(){return e.Ac(t),e.hc(2).cleanInput()})),e.Ic(2,"close"),e.Ub(),e.Sb()}}function v(t,o){if(1&t&&(e.Vb(0,"mat-icon"),e.Ic(1),e.Ub()),2&t){const t=e.hc(2);e.Cb(1),e.Jc(t.matIcon)}}function B(t,o){if(1&t&&(e.Vb(0,"a",7),e.Gc(1,I,3,0,"ng-container",8),e.Gc(2,v,2,1,"ng-template",null,9,e.Hc),e.Ub()),2&t){const t=e.xc(3),o=e.hc();e.Gb("spinner",o.loadingBuscarPuntoControl),e.Cb(1),e.nc("ngIf",o.controlPuntoControlBuscar.value)("ngIfElse",t)}}function y(t,o){if(1&t&&(e.Vb(0,"mat-option",11),e.Ic(1),e.Ub()),2&t){const t=o.$implicit;e.nc("value",t.id),e.Cb(1),e.Kc(" ",t.nombre," ")}}let w=(()=>{class t{constructor(t,o){this.caPuntoControlService=t,this.platformService=o,this.label="Buscar punto de control",this.matIcon="search",this.placeholder="",this.readonly=!1,this.required=!1,this.puntoControlSelected=new e.o,this.listPuntoControl=[],this.loadingBuscarPuntoControl=!1,this.filteredPuntoControl=new l.a,this.controlPuntoControlBuscar=new r.f,this.unsubscribe$=new l.a,this.onChange=t=>{},this.onTouch=()=>{},this.displayEmpresaWithFn=t=>{let o="";if(t){const n=this.listPuntoControl.find(o=>o.id===t||o.nombre===t);n&&(this.onTouch(),this.onChange(n.id),this.puntoControlSelected.next(n),o=""+n.nombre)}return o}}ngOnInit(){this.required&&(this.controlPuntoControlBuscar=new r.f(null,r.v.required)),this.onChangeValueFiltered(),this.obtenerPuntoControl()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}ngAfterViewInit(){}writeValue(t){this.controlPuntoControlBuscar.setValue(t||null)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){t?this.controlPuntoControlBuscar.disable():this.controlPuntoControlBuscar.enable()}obtenerPuntoControl(){this.loadingBuscarPuntoControl=!0,this.caPuntoControlService.getListPuntoControlByUnidadProduccion().pipe(Object(i.a)(this.unsubscribe$),Object(s.a)(t=>t?t.filter(t=>!t.libreAcceso):t)).subscribe(t=>{this.loadingBuscarPuntoControl=!1,this.listPuntoControl=t,this.filteredPuntoControl.next(t||[]),this.controlPuntoControlBuscar.value&&this.controlPuntoControlBuscar.setValue(this.controlPuntoControlBuscar.value)})}onChangeValueFiltered(){this.controlPuntoControlBuscar.valueChanges.pipe(Object(i.a)(this.unsubscribe$),Object(c.a)(t=>null!=t),Object(a.a)(),Object(s.a)((t="")=>"string"==typeof t?t:t.descProv),Object(s.a)(t=>t?this._filterPuntoControl(t):this.listPuntoControl.slice())).subscribe(t=>{this.filteredPuntoControl.next(t||[])})}_filterPuntoControl(t){const o=t.toLowerCase();return this.listPuntoControl.filter(t=>-1!==t.nombre.toLowerCase().indexOf(o))}cleanInput(){this.onTouch(),this.onChange(null),this.filteredPuntoControl.next(this.listPuntoControl||[]),this.puntoControlSelected.next(null),this.controlPuntoControlBuscar.setValue(null)}}return t.\u0275fac=function(o){return new(o||t)(e.Pb(u.a),e.Pb(b.a))},t.\u0275cmp=e.Jb({type:t,selectors:[["pca-autocomplete-punto-control"]],inputs:{errorMessage:"errorMessage",label:"label",matIcon:"matIcon",placeholder:"placeholder",readonly:"readonly",required:"required"},outputs:{puntoControlSelected:"puntoControlSelected"},features:[e.Bb([{provide:r.n,useExisting:Object(e.U)(()=>t),multi:!0}])],decls:10,vars:15,consts:[["appearance","outline",1,"w-100"],[4,"ngIf"],["matInput","",3,"placeholder","formControl","matAutocomplete","readonly"],["mat-icon-button","","matSuffix","",3,"spinner",4,"ngIf"],[3,"displayWith"],["autoTrabajador","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"click"],[3,"value"]],template:function(t,o){if(1&t&&(e.Vb(0,"mat-form-field",0),e.Vb(1,"mat-label"),e.Ic(2),e.Gc(3,g,2,0,"span",1),e.Ub(),e.Qb(4,"input",2),e.Gc(5,B,4,4,"a",3),e.Vb(6,"mat-autocomplete",4,5),e.Gc(8,y,2,2,"mat-option",6),e.ic(9,"async"),e.Ub(),e.Ub()),2&t){const t=e.xc(7);e.Fc("font-size",o.platformService.fontZize(),"rem")("color",o.controlPuntoControlBuscar.errors&&o.controlPuntoControlBuscar.touched?"red !important":null),e.Cb(2),e.Kc("",o.label," "),e.Cb(1),e.nc("ngIf",o.required),e.Cb(1),e.nc("placeholder",o.placeholder)("formControl",o.controlPuntoControlBuscar)("matAutocomplete",t)("readonly",o.readonly),e.Cb(1),e.nc("ngIf",!o.readonly&&!o.controlPuntoControlBuscar.disabled),e.Cb(1),e.nc("displayWith",o.displayEmpresaWithFn),e.Cb(2),e.nc("ngForOf",e.jc(9,13,o.filteredPuntoControl))}},directives:[h.b,h.f,d.m,p.b,r.c,f.c,r.p,r.g,f.a,d.l,C.a,h.h,m.a,P.o],pipes:[d.b],styles:["[_nghost-%COMP%]{width:100%;padding:0;margin:0;display:flex;justify-content:center}"]}),t})()},Js5l:function(t,o,n){"use strict";n.d(o,"a",(function(){return c}));var e=n("tk/3"),r=n("A2WV"),l=n("AytR"),i=n("fXoL"),s=n("EIzb");let c=(()=>{class t extends r.a{constructor(t,o){super(t,o),this.http=t,this.alertModalService=o,this.$api=""+l.a.baseUrl}obtenerAreasList(){let t=this.$api+"area/listar";return new e.d,this.getMethod(t)}}return t.\u0275fac=function(o){return new(o||t)(i.Zb(e.b),i.Zb(s.a))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},aluS:function(t,o,n){"use strict";n.d(o,"a",(function(){return e}));const e=["trabajador","depaTrabajador","empresa","puntoControl","estado"]}}]);