(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7mxs":function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var r=a("tk/3"),o=a("Oj5W"),n=a("AytR"),i=a("M5Uu"),c=a("LAY5"),s=a("A2WV"),l=a("LRne"),d=a("lJxs"),u=a("fXoL"),b=a("EIzb"),p=a("4E86");let h=(()=>{class t extends s.a{constructor(t,e,a){super(t,e),this.http=t,this.alertModalService=e,this.appSettings=a,this.$api=""+n.a.baseUrl}getPersonal(){const t=`${this.$api}${i.a.TRABAJADOR_LISTAR}`,e=new r.d;return this.getMethod(t,e,o.a.formatRequestPersonalList)}obtenerTrabajdoresPorBusquedaTexto(t,e){let a=`${this.$api}${i.a.TRABAJADOR_LISTAR}`;const n=new r.d;t&&(a=a.concat("?texto="+t));const c=-1!==a.indexOf("?")?"&":"?";return this.appSettings.isIntranet?e&&(a=a.concat(`${c}empresaId=${e}`)):a=a.concat(`${c}empresaId=${this.appSettings.proveedorId}`),this.getMethod(a,n,o.a.formatRequestPersonalList)}consultaDnisTrabajador(t){let e=`${this.$api}${i.a.TRABAJADOR_DNI}`;const a=new r.d;return t&&t.length&&(e=e.concat("?dnis="+JSON.stringify(t))),this.getMethod(e,a,o.a.formatRequestTrabajadorSearchDniList)}consultaMasivamenteDnisTrabajador(t,e,a=!1){return this.postMethod(`${this.$api}${i.a.TRABAJADOR_CONSULTA_DNI}`,{ListaDnis:t,ProveedorId:e,validaProveedor:a}).pipe(Object(d.a)(t=>o.a.formatRequestTrabajadorSearchDniList(t)))}obtenerTrabajadoresByParams(t,e){if(t&&e){let a=`${this.$api}${i.a.TRABAJADOR_PLANILLA}?planilla=${t}&departamaneto=${e}`;this.appSettings.isIntranet||(a=a.concat("&proveedorId="+this.appSettings.proveedorId));const n=new r.d;return this.getMethod(a,n,o.a.formatRequestTrabajadorSearchDniList)}return this.alertModalService.alert(c.a.warning,"Se requiere los parametros planilla y departamento"),Object(l.a)([])}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(r.b),u.Zb(b.a),u.Zb(p.a))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KZqF:function(t,e,a){"use strict";a.d(e,"a",(function(){return $}));var r=a("fXoL"),o=a("3Pt+"),n=a("XNiG"),i=a("1G5W"),c=a("Kj3r"),s=a("/uUt"),l=a("7mxs"),d=a("EHkv"),u=a("kmnG"),b=a("ofXK"),p=a("qFsG"),h=a("/1cH"),m=a("bTqV"),f=a("NFeN"),g=a("FKr1");function T(t,e){1&t&&(r.Vb(0,"span"),r.Ic(1,"*"),r.Ub())}function C(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"mat-icon",10),r.dc("click",(function(){return r.Ac(t),r.hc(2).cleanInput()})),r.Ic(2,"close"),r.Ub(),r.Sb()}}function I(t,e){if(1&t&&(r.Vb(0,"mat-icon"),r.Ic(1),r.Ub()),2&t){const t=r.hc(2);r.Cb(1),r.Jc(t.matIcon)}}function S(t,e){if(1&t&&(r.Vb(0,"a",7),r.Gc(1,C,3,0,"ng-container",8),r.Gc(2,I,2,1,"ng-template",null,9,r.Hc),r.Ub()),2&t){const t=r.xc(3),e=r.hc();r.Gb("spinner",e.loadingBuscarTrabajador),r.Cb(1),r.nc("ngIf",e.controlTrabajadorBuscar.value)("ngIfElse",t)}}function j(t,e){if(1&t&&(r.Vb(0,"mat-option",11),r.Ic(1),r.Ub()),2&t){const t=e.$implicit;r.nc("value",t.trab_id),r.Cb(1),r.Lc(" ",t.Apellidos," ",t.Nombre," ")}}let $=(()=>{class t{constructor(t,e){this.caTrabajadorService=t,this.platformService=e,this.errorMessage="",this.label="Buscar Trabajadores",this.matIcon="search",this.placeholder="",this.readonly=!1,this.required=!1,this.empresaId="",this.trabajadorSelected=new r.o,this.listTrabajadores=[],this.loadingBuscarTrabajador=!1,this.filteredTrabajador=new n.a,this.controlTrabajadorBuscar=new o.f,this.unsubscribe$=new n.a,this.onChange=t=>{},this.onTouch=()=>{},this.displayTrabajadorWithFn=t=>{let e=this.controlTrabajadorBuscar.value||"";if(t){const a=this.listTrabajadores.find(e=>e.trab_id===t);a&&(this.onTouch(),this.onChange(a.trab_id),this.trabajadorSelected.next(a),e=`${a.Apellidos} ${a.Nombre}`)}return e}}ngOnInit(){this.required&&(this.controlTrabajadorBuscar=new o.f(null,o.v.required)),this.initializeSubscriptionChangeValueBusquedTrabajador()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}ngAfterViewInit(){}writeValue(t){this.controlTrabajadorBuscar.setValue(t||null)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){t?this.controlTrabajadorBuscar.disable():this.controlTrabajadorBuscar.enable()}initializeSubscriptionChangeValueBusquedTrabajador(){this.controlTrabajadorBuscar.valueChanges.pipe(Object(i.a)(this.unsubscribe$),Object(c.a)(400),Object(s.a)()).subscribe(t=>{if(!t||!t.trim())return this.filteredTrabajador.next([]),void(this.listTrabajadores=[]);this.subcriptionBuscarTrabajador&&this.subcriptionBuscarTrabajador.unsubscribe();const e=(this.listTrabajadores||[]).find(e=>e.trab_id===t);e&&e.trab_id||(this.loadingBuscarTrabajador=!0,this.subcriptionBuscarTrabajador=this.caTrabajadorService.obtenerTrabajdoresPorBusquedaTexto(t,this.empresaId).pipe(Object(i.a)(this.unsubscribe$)).subscribe(t=>{this.loadingBuscarTrabajador=!1,this.listTrabajadores=t||[],this.filteredTrabajador.next(t||[]),this.controlTrabajadorBuscar.value&&this.controlTrabajadorBuscar.setValue(this.controlTrabajadorBuscar.value)}))})}cleanInput(){this.onTouch(),this.onChange(null),this.trabajadorSelected.next(null),this.controlTrabajadorBuscar.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(l.a),r.Pb(d.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["pca-autocomplete-trabajador"]],inputs:{errorMessage:"errorMessage",label:"label",matIcon:"matIcon",placeholder:"placeholder",readonly:"readonly",required:"required",empresaId:"empresaId"},outputs:{trabajadorSelected:"trabajadorSelected"},features:[r.Bb([{provide:o.n,useExisting:Object(r.U)(()=>t),multi:!0}])],decls:10,vars:15,consts:[["appearance","outline",1,"w-100"],[4,"ngIf"],["matInput","",3,"placeholder","formControl","matAutocomplete","readonly"],["mat-icon-button","","matSuffix","",3,"spinner",4,"ngIf"],[3,"displayWith"],["autoTrabajador","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(r.Vb(0,"mat-form-field",0),r.Vb(1,"mat-label"),r.Ic(2),r.Gc(3,T,2,0,"span",1),r.Ub(),r.Qb(4,"input",2),r.Gc(5,S,4,4,"a",3),r.Vb(6,"mat-autocomplete",4,5),r.Gc(8,j,2,3,"mat-option",6),r.ic(9,"async"),r.Ub(),r.Ub()),2&t){const t=r.xc(7);r.Fc("font-size",e.platformService.fontZize(),"rem")("color",e.controlTrabajadorBuscar.errors&&e.controlTrabajadorBuscar.touched?"red !important":null),r.Cb(2),r.Kc("",e.label," "),r.Cb(1),r.nc("ngIf",e.required),r.Cb(1),r.nc("placeholder",e.placeholder)("formControl",e.controlTrabajadorBuscar)("matAutocomplete",t)("readonly",e.readonly),r.Cb(1),r.nc("ngIf",!e.readonly&&!e.controlTrabajadorBuscar.disabled),r.Cb(1),r.nc("displayWith",e.displayTrabajadorWithFn),r.Cb(2),r.nc("ngForOf",r.jc(9,13,e.filteredTrabajador))}},directives:[u.b,u.f,b.m,p.b,o.c,h.c,o.p,o.g,h.a,b.l,m.a,u.h,f.a,g.o],pipes:[b.b],styles:["[_nghost-%COMP%]{width:100%;padding:0;margin:0;display:flex;justify-content:center}"]}),t})()},M2k1:function(t,e,a){"use strict";a.d(e,"a",(function(){return V}));var r=a("fXoL"),o=a("3Pt+"),n=a("RrUJ"),i=a("XNiG"),c=a("1G5W"),s=a("pLZG"),l=a("/uUt"),d=a("lJxs"),u=a("tk/3"),b=a("Oj5W"),p=a("AytR"),h=a("M5Uu"),m=a("A2WV"),f=a("EIzb");let g=(()=>{class t extends m.a{constructor(t,e){super(t,e),this.http=t,this.alertModalService=e,this.$api=""+p.a.baseUrl}obtenerDepartamentosPorParametros(t,e,a){let r=`${this.$api}${h.a.DEPARTAMENTO_LISTAR}`;const o=new u.d;t&&(r=r.concat("?texto="+t));let n=-1!==r.indexOf("?")?"&":"?";return e&&(r=r.concat(`${n}niveles=${e}`)),n=-1!==r.indexOf("?")?"&":"?",a&&(r=r.concat(`${n}usuario=${a}`)),this.getMethod(r,o,b.a.formatRequestDepartamentoList)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(u.b),r.Zb(f.a))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=a("EHkv"),C=a("kmnG"),I=a("ofXK"),S=a("qFsG"),j=a("/1cH"),$=a("bTqV"),v=a("NFeN"),D=a("FKr1");function O(t,e){1&t&&(r.Vb(0,"span"),r.Ic(1,"*"),r.Ub())}function U(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"mat-icon",10),r.dc("click",(function(){return r.Ac(t),r.hc(2).cleanInput()})),r.Ic(2,"close"),r.Ub(),r.Sb()}}function M(t,e){if(1&t&&(r.Vb(0,"mat-icon"),r.Ic(1),r.Ub()),2&t){const t=r.hc(2);r.Cb(1),r.Jc(t.matIcon)}}function R(t,e){if(1&t&&(r.Vb(0,"a",7),r.Gc(1,U,3,0,"ng-container",8),r.Gc(2,M,2,1,"ng-template",null,9,r.Hc),r.Ub()),2&t){const t=r.xc(3),e=r.hc();r.Gb("spinner",e.loadingBuscarDepartamento),r.Cb(1),r.nc("ngIf",e.controlDepartamentoBuscar.value)("ngIfElse",t)}}function y(t,e){if(1&t&&(r.Vb(0,"mat-option",11),r.Ic(1),r.Ub()),2&t){const t=e.$implicit;r.nc("value",t.id),r.Cb(1),r.Lc(" ",t.id," - ",t.nombre," ")}}let V=(()=>{class t{constructor(t,e){this.caDepartamentoService=t,this.platformService=e,this.errorMessage="",this.required=!1,this.label="Buscar Departamento",this.matIcon="search",this.placeholder="",this.readonly=!1,this.usuario="",this.niveles="",this.departamentoSelected=new r.o,this.listDepartamentos=[],this.loadingBuscarDepartamento=!1,this.filteredDepartamento=new i.a,this.controlDepartamentoBuscar=new o.f,this.unsubscribe$=new i.a,this.onChange=t=>{},this.onTouch=()=>{},this.displayDepartamentoWithFn=t=>{let e="";if(t){const a=this.listDepartamentos.find(e=>e.id.trim()===t.trim());a&&(this.onTouch(),this.onChange(a.id),this.departamentoSelected.next(a),e=`${a.id} - ${a.nombre}`)}return e}}ngOnInit(){this.required&&(this.controlDepartamentoBuscar=new o.f(null,o.v.required)),this.onChangeValueFiltered(),this.obtenerDepartamentos()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}ngAfterViewInit(){}writeValue(t){this.controlDepartamentoBuscar.setValue(t||null)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){t?this.controlDepartamentoBuscar.disable():this.controlDepartamentoBuscar.enable()}onChangeValueFiltered(){this.controlDepartamentoBuscar.valueChanges.pipe(Object(c.a)(this.unsubscribe$),Object(s.a)(t=>null!=t),Object(l.a)(),Object(d.a)((t="")=>"string"==typeof t?t:t.descProv),Object(d.a)(t=>t?this._filterProveedor(t):this.listDepartamentos.slice())).subscribe(t=>{this.filteredDepartamento.next(t||[])})}obtenerDepartamentos(){this.loadingBuscarDepartamento=!0,this.subcriptionBuscarDepartamento=this.caDepartamentoService.obtenerDepartamentosPorParametros("",this.niveles,this.usuario).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingBuscarDepartamento=!1,this.listDepartamentos=t,this.filteredDepartamento.next(t||[]),this.controlDepartamentoBuscar.value&&this.controlDepartamentoBuscar.setValue(this.controlDepartamentoBuscar.value)})}_concatForceEmptyOrTextUpperCase(t){let e="";return t&&(e=`${(t.id||"").trim()} - ${(t.nombre||"").trim()}`.toLowerCase()),e}_filterProveedor(t){const e=t.toLowerCase();return this.listDepartamentos.filter(t=>-1!==n.a.textToUpperOrEmpty(t.nombre).indexOf(e)||-1!==n.a.textToUpperOrEmpty(t.id).indexOf(e)||-1!==this._concatForceEmptyOrTextUpperCase(t).indexOf(e))}cleanInput(){this.onTouch(),this.onChange(null),this.filteredDepartamento.next(this.listDepartamentos||[]),this.departamentoSelected.next(null),this.controlDepartamentoBuscar.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(g),r.Pb(T.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["pca-autocomplete-departamento"]],inputs:{errorMessage:"errorMessage",required:"required",label:"label",matIcon:"matIcon",placeholder:"placeholder",readonly:"readonly",usuario:"usuario",niveles:"niveles"},outputs:{departamentoSelected:"departamentoSelected"},features:[r.Bb([{provide:o.n,useExisting:Object(r.U)(()=>t),multi:!0}])],decls:10,vars:15,consts:[["appearance","outline",1,"w-100"],[4,"ngIf"],["matInput","",3,"placeholder","formControl","matAutocomplete","readonly"],["mat-icon-button","","matSuffix","",3,"spinner",4,"ngIf"],[3,"displayWith"],["autoDepartamento","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(r.Vb(0,"mat-form-field",0),r.Vb(1,"mat-label"),r.Ic(2),r.Gc(3,O,2,0,"span",1),r.Ub(),r.Qb(4,"input",2),r.Gc(5,R,4,4,"a",3),r.Vb(6,"mat-autocomplete",4,5),r.Gc(8,y,2,3,"mat-option",6),r.ic(9,"async"),r.Ub(),r.Ub()),2&t){const t=r.xc(7);r.Fc("font-size",e.platformService.fontZize(),"rem")("color",e.controlDepartamentoBuscar.errors&&e.controlDepartamentoBuscar.touched?"red !important":null),r.Cb(2),r.Kc("",e.label," "),r.Cb(1),r.nc("ngIf",e.required),r.Cb(1),r.nc("placeholder",e.placeholder)("formControl",e.controlDepartamentoBuscar)("matAutocomplete",t)("readonly",e.readonly),r.Cb(1),r.nc("ngIf",!e.readonly&&!e.controlDepartamentoBuscar.disabled),r.Cb(1),r.nc("displayWith",e.displayDepartamentoWithFn),r.Cb(2),r.nc("ngForOf",r.jc(9,13,e.filteredDepartamento))}},directives:[C.b,C.f,I.m,S.b,o.c,j.c,o.p,o.g,j.a,I.l,$.a,C.h,v.a,D.o],pipes:[I.b],styles:["[_nghost-%COMP%]{width:100%;padding:0;margin:0;display:flex;justify-content:center}"]}),t})()},Mdhe:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var r=a("tk/3"),o=a("A2WV"),n=a("AytR"),i=a("Oj5W"),c=a("M5Uu"),s=a("fXoL"),l=a("EIzb"),d=a("4E86");let u=(()=>{class t extends o.a{constructor(t,e,a){super(t,e),this.http=t,this.alertModalService=e,this.appSetting=a,this.$api=""+n.a.baseUrl}obtenerAreasList(){const t=this.$api+"area/listar",e=new r.d;return this.getMethod(t,e)}getListDepartament(){const t=`${this.$api}${c.a.DEPARTAMENTO_LISTAR}`,e=new r.d;return this.getMethod(t,e)}getListUProduccion(t){let e=this.$api+"UnidadProduccion/listar";const a=new r.d;return t&&(e=e.concat("?texto="+t)),this.getMethod(e,a)}getListPuntoControlByUnidadProduccion(t,e){let a=`${this.$api}${c.a.PUNTO_CONTROL_LISTAR}`;const o=new r.d;return t&&(a=a.concat(`?UnidadProduccionId=${t}&DepartamentoId=${e}&set_id=${n.a.SET_ID}`)),this.getMethod(a,o)}getPuntoControlById(t){const e=`${this.$api}${c.a.PUNTO_CONTROL}/${t}`,a=new r.d;return this.getMethod(e,a,i.a.formatRequestPuntoControlById)}upsertPuntoControl(t){return 0===t.id?this.addPuntoControl(t):this.editPuntoControl(t)}addPuntoControl(t){const e=`${this.$api}${c.a.PUNTO_CONTROL_AGREGAR}`,a=i.a.formatResponsePuntoControlForms(t,this.appSetting.currentUser);return this.postMethod(e,a)}editPuntoControl(t){const e=`${this.$api}${c.a.PUNTO_CONTROL}/${t.id}`,a=i.a.formatResponsePuntoControlForms(t,this.appSetting.currentUser);return this.postMethod(e,a)}obtenerSerializadoFormatoImportacion(){return this.getMethodDownloadFile(`${this.$api}${c.a.PUNTO_CONTROL_GENERAR_EXCEL}`)}importMasivoPuntoControl(t){const e=`${this.$api}${c.a.PUNTO_CONTROL_IMPORT}`,a=i.a.formatResponsePuntoControlImportList(t,this.appSetting.currentUser);return this.postMethod(e,a)}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(r.b),s.Zb(l.a),s.Zb(d.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},kBUt:function(t,e,a){"use strict";a.r(e),a.d(e,"CRepoMarcacionesModule",(function(){return et}));var r=a("ofXK"),o=a("tyNb"),n=a("M9IT"),i=a("Dh3D"),c=a("1G5W"),s=a("XNiG");const l=["puntoControl","trabajador","empresa","resultado","fecha","marcacion"];var d=a("+0xr"),u=a("LAY5"),b=a("RrUJ"),p=a("wd/R"),h=a("fXoL"),m=a("0IaG"),f=a("EIzb"),g=a("tk/3"),T=a("AytR"),C=a("A2WV"),I=a("Oj5W"),S=a("M5Uu"),j=a("4E86");let $=(()=>{class t extends C.a{constructor(t,e,a){super(t,e),this.http=t,this.alertModalService=e,this.appSettings=a,this.$api=""+T.a.baseUrl}obtenerReporteMarcacionList(t,e,a){let r=`${this.$api}${S.a.REPORTE_MARCACION_LISTAR}/${this.appSettings.isIntranet?"@":this.appSettings.proveedorId}`;t&&(r=r.concat("?departamentoId="+t)),e&&(r=r.concat("&puntocontrolId="+e)),a&&(r=r.concat("&trabajadorId="+a));const o=new g.d;return this.getMethod(r,o,I.a.formatReporteMarcacionList)}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(g.b),h.Zb(f.a),h.Zb(j.a))},t.\u0275prov=h.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=a("bTqV"),D=a("Qu3c"),O=a("7EHt"),U=a("NFeN"),M=a("M2k1"),R=a("3Pt+"),y=a("1GFE"),V=a("KZqF"),w=a("Xa2L");function B(t,e){1&t&&(h.Vb(0,"mat-icon"),h.Ic(1,"search_off"),h.Ub())}function A(t,e){1&t&&(h.Vb(0,"mat-icon"),h.Ic(1,"search"),h.Ub())}function P(t,e){1&t&&(h.Vb(0,"mat-header-cell",22),h.Ic(1," Punto Control "),h.Ub())}function x(t,e){if(1&t&&(h.Vb(0,"mat-cell"),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.Cb(1),h.Kc(" ",t.puntoControl," ")}}function L(t,e){1&t&&(h.Vb(0,"mat-header-cell",22),h.Ic(1," Trabajador "),h.Ub())}function G(t,e){if(1&t&&(h.Vb(0,"mat-cell"),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.Cb(1),h.Kc(" ",t.trabajador," ")}}function E(t,e){1&t&&(h.Vb(0,"mat-header-cell",22),h.Ic(1," Empresa "),h.Ub())}function N(t,e){if(1&t&&(h.Vb(0,"mat-cell"),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.Cb(1),h.Kc(" ",t.empresa," ")}}function _(t,e){1&t&&(h.Vb(0,"mat-header-cell",22),h.Ic(1," Resultado "),h.Ub())}function q(t,e){if(1&t&&(h.Vb(0,"mat-cell"),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.Cb(1),h.Kc(" ",t.resultado," ")}}function F(t,e){1&t&&(h.Vb(0,"mat-header-cell",22),h.Ic(1," Fecha y hora "),h.Ub())}function k(t,e){if(1&t&&(h.Vb(0,"mat-cell"),h.Ic(1),h.ic(2,"date"),h.Ub()),2&t){const t=e.$implicit;h.Cb(1),h.Kc(" ",h.kc(2,1,t.fecha,"dd/MM/yyyy hh:mm a")," ")}}function W(t,e){1&t&&(h.Vb(0,"mat-header-cell",22),h.Ic(1," Marcaci\xf3n "),h.Ub())}function J(t,e){if(1&t&&(h.Vb(0,"mat-cell"),h.Ic(1),h.Ub()),2&t){const t=e.$implicit;h.Cb(1),h.Kc(" ",t.marcacion," ")}}function K(t,e){1&t&&h.Qb(0,"mat-header-row")}function Z(t,e){1&t&&h.Qb(0,"mat-row")}function z(t,e){1&t&&(h.Vb(0,"div",23),h.Qb(1,"mat-progress-spinner",24),h.Ub())}const X=function(){return[10,25,50,100]},H=[{path:"",component:(()=>{class t{constructor(t,e,a){this.dialog=t,this.alerModalService=e,this.cRepoMarcacionesService=a,this.displayedColumns=l,this.dataSource=new d.k([]),this.loadingTable=!1,this.unsubscribe$=new s.a}ngOnInit(){}ngAfterViewInit(){this.settingTable()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}settingTable(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}obtenerReportesMarcaciones(){this.departamentoSelected?(this.dataSource.data=[],this.loadingTable=!0,this.cRepoMarcacionesService.obtenerReporteMarcacionList(this.departamentoSelected,this.puntoControlSelected,this.trabajadorSelected).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingTable=!1,t.length>0&&(this.dataSource.data=t)})):this.alerModalService.alert(u.a.warning,"Es requerido seleccionar un departamento")}exportarReporteMarcaciones(){if(this.dataSource.data&&this.dataSource.data.length){const t=this.dataSource.data.map(t=>({puntoControl:t.puntoControl,trabajador:t.trabajador,empresa:t.empresa,resultado:t.resultado,fecha:p(t.fecha).format("DD/MM/YYYY hh:mm a"),marcacion:t.marcacion}));b.a.exportJsonToExcel(t,"ReporteMarcaciones.xlsx")}}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(m.b),h.Pb(f.a),h.Pb($))},t.\u0275cmp=h.Jb({type:t,selectors:[["pca-rm-list"]],viewQuery:function(t,e){var a;1&t&&(h.Nc(n.a,!0),h.Ec(i.a,!0)),2&t&&(h.wc(a=h.ec())&&(e.paginator=a.first),h.wc(a=h.ec())&&(e.sort=a.first))},decls:46,vars:14,consts:[[1,"example-action-buttons"],["mat-raised-button","","matTooltip","EXPORTAR",1,"button-amarillo",3,"click"],[1,"material-icons"],["multi","",1,"example-headers-align"],[1,"generic-button-small",3,"ngModel","ngModelChange"],[1,"generic-button-small",3,"disabled","ngModel","ngModelChange"],["mat-flat-button","","matTooltip","BUSCAR",1,"button-amarillo","btn-flex-custom",3,"disabled","click"],[4,"ngIf"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","puntoControl"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","trabajador"],["matColumnDef","empresa"],["matColumnDef","resultado"],["matColumnDef","fecha"],["matColumnDef","marcacion"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","container-spinner-loading",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[1,"container-spinner-loading"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(h.Vb(0,"h2"),h.Ic(1," REPORTE DE MARCACIONES EN PUNTO DE CONTROL"),h.Ub(),h.Vb(2,"div",0),h.Vb(3,"button",1),h.dc("click",(function(){return e.exportarReporteMarcaciones()})),h.Vb(4,"span",2),h.Ic(5," print"),h.Ub(),h.Ub(),h.Ub(),h.Vb(6,"mat-accordion",3),h.Vb(7,"mat-expansion-panel"),h.Vb(8,"mat-expansion-panel-header"),h.Vb(9,"mat-panel-title"),h.Ic(10," Filtros "),h.Ub(),h.Vb(11,"mat-panel-description"),h.Ic(12," Criterios de consulta "),h.Vb(13,"mat-icon"),h.Ic(14,"remove_red_eye"),h.Ub(),h.Ub(),h.Ub(),h.Vb(15,"pca-autocomplete-departamento",4),h.dc("ngModelChange",(function(t){return e.departamentoSelected=t})),h.Ub(),h.Vb(16,"pca-autocomplete-punto-control",5),h.dc("ngModelChange",(function(t){return e.puntoControlSelected=t})),h.Ub(),h.Vb(17,"pca-autocomplete-trabajador",5),h.dc("ngModelChange",(function(t){return e.trabajadorSelected=t})),h.Ub(),h.Vb(18,"button",6),h.dc("click",(function(){return e.obtenerReportesMarcaciones()})),h.Gc(19,B,2,0,"mat-icon",7),h.Gc(20,A,2,0,"mat-icon",7),h.Ub(),h.Ub(),h.Ub(),h.Qb(21,"br"),h.Vb(22,"div",8),h.Vb(23,"mat-table",9),h.Tb(24,10),h.Gc(25,P,2,0,"mat-header-cell",11),h.Gc(26,x,2,1,"mat-cell",12),h.Sb(),h.Tb(27,13),h.Gc(28,L,2,0,"mat-header-cell",11),h.Gc(29,G,2,1,"mat-cell",12),h.Sb(),h.Tb(30,14),h.Gc(31,E,2,0,"mat-header-cell",11),h.Gc(32,N,2,1,"mat-cell",12),h.Sb(),h.Tb(33,15),h.Gc(34,_,2,0,"mat-header-cell",11),h.Gc(35,q,2,1,"mat-cell",12),h.Sb(),h.Tb(36,16),h.Gc(37,F,2,0,"mat-header-cell",11),h.Gc(38,k,3,4,"mat-cell",12),h.Sb(),h.Tb(39,17),h.Gc(40,W,2,0,"mat-header-cell",11),h.Gc(41,J,2,1,"mat-cell",12),h.Sb(),h.Gc(42,K,1,0,"mat-header-row",18),h.Gc(43,Z,1,0,"mat-row",19),h.Ub(),h.Gc(44,z,2,0,"div",20),h.Qb(45,"mat-paginator",21),h.Ub()),2&t&&(h.Cb(15),h.nc("ngModel",e.departamentoSelected),h.Cb(1),h.nc("disabled",!e.departamentoSelected)("ngModel",e.puntoControlSelected),h.Cb(1),h.nc("disabled",!e.departamentoSelected)("ngModel",e.trabajadorSelected),h.Cb(1),h.nc("disabled",!e.departamentoSelected),h.Cb(1),h.nc("ngIf",!e.departamentoSelected),h.Cb(1),h.nc("ngIf",e.departamentoSelected),h.Cb(3),h.nc("dataSource",e.dataSource),h.Cb(19),h.nc("matHeaderRowDef",e.displayedColumns),h.Cb(1),h.nc("matRowDefColumns",e.displayedColumns),h.Cb(1),h.nc("ngIf",e.loadingTable),h.Cb(1),h.nc("pageSizeOptions",h.qc(13,X)))},directives:[v.b,D.a,O.a,O.c,O.e,O.f,O.d,U.a,M.a,R.p,R.s,y.a,V.a,r.m,d.j,i.a,d.c,d.e,d.b,d.g,d.i,n.a,d.d,i.b,d.a,d.f,d.h,w.a],pipes:[r.e],styles:[""]}),t})()}];let Q=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(e){return new(e||t)},imports:[[o.d.forChild(H)],o.d]}),t})();var Y=a("PCNd"),tt=a("fawr");let et=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(e){return new(e||t)},imports:[[r.c,Y.a,tt.a,Q]]}),t})()}}]);