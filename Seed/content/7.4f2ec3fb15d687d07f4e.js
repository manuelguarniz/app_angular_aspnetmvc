(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Bzqt:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o=["line","dato","mensaje"]},M2k1:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var o=n("fXoL"),r=n("3Pt+"),i=n("RrUJ"),a=n("XNiG"),c=n("1G5W"),s=n("pLZG"),u=n("/uUt"),l=n("lJxs"),d=n("tk/3"),h=n("Oj5W"),p=n("AytR"),b=n("M5Uu"),m=n("A2WV"),f=n("EIzb");let g=(()=>{class t extends m.a{constructor(t,e){super(t,e),this.http=t,this.alertModalService=e,this.$api=""+p.a.baseUrl}obtenerDepartamentosPorParametros(t,e,n){let o=`${this.$api}${b.a.DEPARTAMENTO_LISTAR}`;const r=new d.d;t&&(o=o.concat("?texto="+t));let i=-1!==o.indexOf("?")?"&":"?";return e&&(o=o.concat(`${i}niveles=${e}`)),i=-1!==o.indexOf("?")?"&":"?",n&&(o=o.concat(`${i}usuario=${n}`)),this.getMethod(o,r,h.a.formatRequestDepartamentoList)}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(d.b),o.Zb(f.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=n("EHkv"),U=n("kmnG"),C=n("ofXK"),O=n("qFsG"),I=n("/1cH"),v=n("bTqV"),y=n("NFeN"),B=n("FKr1");function D(t,e){1&t&&(o.Vb(0,"span"),o.Ic(1,"*"),o.Ub())}function $(t,e){if(1&t){const t=o.Wb();o.Tb(0),o.Vb(1,"mat-icon",10),o.dc("click",(function(){return o.Ac(t),o.hc(2).cleanInput()})),o.Ic(2,"close"),o.Ub(),o.Sb()}}function w(t,e){if(1&t&&(o.Vb(0,"mat-icon"),o.Ic(1),o.Ub()),2&t){const t=o.hc(2);o.Cb(1),o.Jc(t.matIcon)}}function S(t,e){if(1&t&&(o.Vb(0,"a",7),o.Gc(1,$,3,0,"ng-container",8),o.Gc(2,w,2,1,"ng-template",null,9,o.Hc),o.Ub()),2&t){const t=o.xc(3),e=o.hc();o.Gb("spinner",e.loadingBuscarDepartamento),o.Cb(1),o.nc("ngIf",e.controlDepartamentoBuscar.value)("ngIfElse",t)}}function T(t,e){if(1&t&&(o.Vb(0,"mat-option",11),o.Ic(1),o.Ub()),2&t){const t=e.$implicit;o.nc("value",t.id),o.Cb(1),o.Lc(" ",t.id," - ",t.nombre," ")}}let x=(()=>{class t{constructor(t,e){this.caDepartamentoService=t,this.platformService=e,this.errorMessage="",this.required=!1,this.label="Buscar Departamento",this.matIcon="search",this.placeholder="",this.readonly=!1,this.usuario="",this.niveles="",this.departamentoSelected=new o.o,this.listDepartamentos=[],this.loadingBuscarDepartamento=!1,this.filteredDepartamento=new a.a,this.controlDepartamentoBuscar=new r.f,this.unsubscribe$=new a.a,this.onChange=t=>{},this.onTouch=()=>{},this.displayDepartamentoWithFn=t=>{let e="";if(t){const n=this.listDepartamentos.find(e=>e.id.trim()===t.trim());n&&(this.onTouch(),this.onChange(n.id),this.departamentoSelected.next(n),e=`${n.id} - ${n.nombre}`)}return e}}ngOnInit(){this.required&&(this.controlDepartamentoBuscar=new r.f(null,r.v.required)),this.onChangeValueFiltered(),this.obtenerDepartamentos()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}ngAfterViewInit(){}writeValue(t){this.controlDepartamentoBuscar.setValue(t||null)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){t?this.controlDepartamentoBuscar.disable():this.controlDepartamentoBuscar.enable()}onChangeValueFiltered(){this.controlDepartamentoBuscar.valueChanges.pipe(Object(c.a)(this.unsubscribe$),Object(s.a)(t=>null!=t),Object(u.a)(),Object(l.a)((t="")=>"string"==typeof t?t:t.descProv),Object(l.a)(t=>t?this._filterProveedor(t):this.listDepartamentos.slice())).subscribe(t=>{this.filteredDepartamento.next(t||[])})}obtenerDepartamentos(){this.loadingBuscarDepartamento=!0,this.subcriptionBuscarDepartamento=this.caDepartamentoService.obtenerDepartamentosPorParametros("",this.niveles,this.usuario).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.loadingBuscarDepartamento=!1,this.listDepartamentos=t,this.filteredDepartamento.next(t||[]),this.controlDepartamentoBuscar.value&&this.controlDepartamentoBuscar.setValue(this.controlDepartamentoBuscar.value)})}_concatForceEmptyOrTextUpperCase(t){let e="";return t&&(e=`${(t.id||"").trim()} - ${(t.nombre||"").trim()}`.toLowerCase()),e}_filterProveedor(t){const e=t.toLowerCase();return this.listDepartamentos.filter(t=>-1!==i.a.textToUpperOrEmpty(t.nombre).indexOf(e)||-1!==i.a.textToUpperOrEmpty(t.id).indexOf(e)||-1!==this._concatForceEmptyOrTextUpperCase(t).indexOf(e))}cleanInput(){this.onTouch(),this.onChange(null),this.filteredDepartamento.next(this.listDepartamentos||[]),this.departamentoSelected.next(null),this.controlDepartamentoBuscar.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(g),o.Pb(P.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["pca-autocomplete-departamento"]],inputs:{errorMessage:"errorMessage",required:"required",label:"label",matIcon:"matIcon",placeholder:"placeholder",readonly:"readonly",usuario:"usuario",niveles:"niveles"},outputs:{departamentoSelected:"departamentoSelected"},features:[o.Bb([{provide:r.n,useExisting:Object(o.U)(()=>t),multi:!0}])],decls:10,vars:15,consts:[["appearance","outline",1,"w-100"],[4,"ngIf"],["matInput","",3,"placeholder","formControl","matAutocomplete","readonly"],["mat-icon-button","","matSuffix","",3,"spinner",4,"ngIf"],[3,"displayWith"],["autoDepartamento","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(o.Vb(0,"mat-form-field",0),o.Vb(1,"mat-label"),o.Ic(2),o.Gc(3,D,2,0,"span",1),o.Ub(),o.Qb(4,"input",2),o.Gc(5,S,4,4,"a",3),o.Vb(6,"mat-autocomplete",4,5),o.Gc(8,T,2,3,"mat-option",6),o.ic(9,"async"),o.Ub(),o.Ub()),2&t){const t=o.xc(7);o.Fc("font-size",e.platformService.fontZize(),"rem")("color",e.controlDepartamentoBuscar.errors&&e.controlDepartamentoBuscar.touched?"red !important":null),o.Cb(2),o.Kc("",e.label," "),o.Cb(1),o.nc("ngIf",e.required),o.Cb(1),o.nc("placeholder",e.placeholder)("formControl",e.controlDepartamentoBuscar)("matAutocomplete",t)("readonly",e.readonly),o.Cb(1),o.nc("ngIf",!e.readonly&&!e.controlDepartamentoBuscar.disabled),o.Cb(1),o.nc("displayWith",e.displayDepartamentoWithFn),o.Cb(2),o.nc("ngForOf",o.jc(9,13,e.filteredDepartamento))}},directives:[U.b,U.f,C.m,O.b,r.c,I.c,r.p,r.g,I.a,C.l,v.a,U.h,y.a,B.o],pipes:[C.b],styles:["[_nghost-%COMP%]{width:100%;padding:0;margin:0;display:flex;justify-content:center}"]}),t})()},Mdhe:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("tk/3"),r=n("A2WV"),i=n("AytR"),a=n("Oj5W"),c=n("M5Uu"),s=n("fXoL"),u=n("EIzb"),l=n("4E86");let d=(()=>{class t extends r.a{constructor(t,e,n){super(t,e),this.http=t,this.alertModalService=e,this.appSetting=n,this.$api=""+i.a.baseUrl}obtenerAreasList(){const t=this.$api+"area/listar",e=new o.d;return this.getMethod(t,e)}getListDepartament(){const t=`${this.$api}${c.a.DEPARTAMENTO_LISTAR}`,e=new o.d;return this.getMethod(t,e)}getListUProduccion(t){let e=this.$api+"UnidadProduccion/listar";const n=new o.d;return t&&(e=e.concat("?texto="+t)),this.getMethod(e,n)}getListPuntoControlByUnidadProduccion(t,e){let n=`${this.$api}${c.a.PUNTO_CONTROL_LISTAR}`;const r=new o.d;return t&&(n=n.concat(`?UnidadProduccionId=${t}&DepartamentoId=${e}&set_id=${i.a.SET_ID}`)),this.getMethod(n,r)}getPuntoControlById(t){const e=`${this.$api}${c.a.PUNTO_CONTROL}/${t}`,n=new o.d;return this.getMethod(e,n,a.a.formatRequestPuntoControlById)}upsertPuntoControl(t){return 0===t.id?this.addPuntoControl(t):this.editPuntoControl(t)}addPuntoControl(t){const e=`${this.$api}${c.a.PUNTO_CONTROL_AGREGAR}`,n=a.a.formatResponsePuntoControlForms(t,this.appSetting.currentUser);return this.postMethod(e,n)}editPuntoControl(t){const e=`${this.$api}${c.a.PUNTO_CONTROL}/${t.id}`,n=a.a.formatResponsePuntoControlForms(t,this.appSetting.currentUser);return this.postMethod(e,n)}obtenerSerializadoFormatoImportacion(){return this.getMethodDownloadFile(`${this.$api}${c.a.PUNTO_CONTROL_GENERAR_EXCEL}`)}importMasivoPuntoControl(t){const e=`${this.$api}${c.a.PUNTO_CONTROL_IMPORT}`,n=a.a.formatResponsePuntoControlImportList(t,this.appSetting.currentUser);return this.postMethod(e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(o.b),s.Zb(u.a),s.Zb(l.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},V4Kw:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n("fXoL"),r=n("3Pt+"),i=n("XNiG"),a=n("1G5W"),c=n("pLZG"),s=n("/uUt"),u=n("lJxs"),l=n("Mdhe"),d=n("EHkv"),h=n("kmnG"),p=n("ofXK"),b=n("qFsG"),m=n("/1cH"),f=n("bTqV"),g=n("NFeN"),P=n("FKr1");function U(t,e){1&t&&(o.Vb(0,"span"),o.Ic(1,"*"),o.Ub())}function C(t,e){if(1&t){const t=o.Wb();o.Tb(0),o.Vb(1,"mat-icon",10),o.dc("click",(function(){return o.Ac(t),o.hc(2).cleanInput()})),o.Ic(2,"close"),o.Ub(),o.Sb()}}function O(t,e){if(1&t&&(o.Vb(0,"mat-icon"),o.Ic(1),o.Ub()),2&t){const t=o.hc(2);o.Cb(1),o.Jc(t.matIcon)}}function I(t,e){if(1&t&&(o.Vb(0,"a",7),o.Gc(1,C,3,0,"ng-container",8),o.Gc(2,O,2,1,"ng-template",null,9,o.Hc),o.Ub()),2&t){const t=o.xc(3),e=o.hc();o.Gb("spinner",e.loadingBuscarUnProduccion),o.Cb(1),o.nc("ngIf",e.controlUProduccionBuscar.value)("ngIfElse",t)}}function v(t,e){if(1&t&&(o.Vb(0,"mat-option",11),o.Ic(1),o.Ub()),2&t){const t=e.$implicit;o.nc("value",t.id),o.Cb(1),o.Kc(" ",t.nombre," ")}}let y=(()=>{class t{constructor(t,e){this.caPuntoControlService=t,this.platformService=e,this.errorMessage="",this.required=!1,this.label="Buscar Un. Producci\xf3n",this.matIcon="search",this.placeholder="",this.readonly=!1,this.uProduccionSelected=new o.o,this.listUnProduccion=[],this.loadingBuscarUnProduccion=!1,this.filteredUProduccion=new i.a,this.controlUProduccionBuscar=new r.f,this.unsubscribe$=new i.a,this.onChange=t=>{},this.onTouch=()=>{},this.displayUProduccionWithFn=t=>{let e="";if(t){const n=this.listUnProduccion.find(e=>e.id.trim()===t.trim()||e.nombre.trim()===t.trim());n&&(this.onTouch(),this.onChange(n.id),this.uProduccionSelected.next(n),e=""+n.nombre)}return e}}ngOnInit(){this.required&&(this.controlUProduccionBuscar=new r.f(null,r.v.required)),this.onChangeValueFiltered(),this.obtenerUnControl()}ngOnDestroy(){this.unsubscribe$.complete(),this.unsubscribe$.unsubscribe()}ngAfterViewInit(){}writeValue(t){this.controlUProduccionBuscar.setValue(t||null)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){t?this.controlUProduccionBuscar.disable():this.controlUProduccionBuscar.enable()}obtenerUnControl(){this.loadingBuscarUnProduccion=!0,this.caPuntoControlService.getListUProduccion().pipe(Object(a.a)(this.unsubscribe$)).subscribe(t=>{this.loadingBuscarUnProduccion=!1,this.listUnProduccion=t,this.filteredUProduccion.next(t||[]),this.controlUProduccionBuscar.value&&this.controlUProduccionBuscar.setValue(this.controlUProduccionBuscar.value)})}onChangeValueFiltered(){this.controlUProduccionBuscar.valueChanges.pipe(Object(a.a)(this.unsubscribe$),Object(c.a)(t=>null!=t),Object(s.a)(),Object(u.a)((t="")=>"string"==typeof t?t:t.descProv),Object(u.a)(t=>t?this._filterUProduccion(t):this.listUnProduccion.slice())).subscribe(t=>{this.filteredUProduccion.next(t||[])})}_filterUProduccion(t){const e=t.toLowerCase();return this.listUnProduccion.filter(t=>-1!==t.nombre.toLowerCase().indexOf(e))}cleanInput(){this.onTouch(),this.onChange(null),this.filteredUProduccion.next(this.listUnProduccion||[]),this.uProduccionSelected.next(null),this.controlUProduccionBuscar.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(l.a),o.Pb(d.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["pca-autocomplete-unidad-produccion"]],inputs:{errorMessage:"errorMessage",required:"required",label:"label",matIcon:"matIcon",placeholder:"placeholder",readonly:"readonly"},outputs:{uProduccionSelected:"uProduccionSelected"},features:[o.Bb([{provide:r.n,useExisting:Object(o.U)(()=>t),multi:!0}])],decls:10,vars:15,consts:[["appearance","outline",1,"w-100"],[4,"ngIf"],["matInput","",3,"placeholder","formControl","matAutocomplete","readonly"],["mat-icon-button","","matSuffix","",3,"spinner",4,"ngIf"],[3,"displayWith"],["autoTrabajador","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(o.Vb(0,"mat-form-field",0),o.Vb(1,"mat-label"),o.Ic(2),o.Gc(3,U,2,0,"span",1),o.Ub(),o.Qb(4,"input",2),o.Gc(5,I,4,4,"a",3),o.Vb(6,"mat-autocomplete",4,5),o.Gc(8,v,2,2,"mat-option",6),o.ic(9,"async"),o.Ub(),o.Ub()),2&t){const t=o.xc(7);o.Fc("font-size",e.platformService.fontZize(),"rem")("color",e.controlUProduccionBuscar.errors&&e.controlUProduccionBuscar.touched?"red !important":null),o.Cb(2),o.Kc("",e.label," "),o.Cb(1),o.nc("ngIf",e.required),o.Cb(1),o.nc("placeholder",e.placeholder)("formControl",e.controlUProduccionBuscar)("matAutocomplete",t)("readonly",e.readonly),o.Cb(1),o.nc("ngIf",!e.readonly&&!e.controlUProduccionBuscar.disabled),o.Cb(1),o.nc("displayWith",e.displayUProduccionWithFn),o.Cb(2),o.nc("ngForOf",o.jc(9,13,e.filteredUProduccion))}},directives:[h.b,h.f,p.m,b.b,r.c,m.c,r.p,r.g,m.a,p.l,f.a,h.h,g.a,P.o],pipes:[p.b],styles:["[_nghost-%COMP%]{width:100%;padding:0;margin:0;display:flex;justify-content:center}"]}),t})()},"u/Yd":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("HDdC"),r=n("EUZL"),i=n("fXoL");let a=(()=>{class t{readerExcel(t,e){return new o.a(n=>{const o=[];this.includeBlankRows=(null==e?void 0:e.includeBlankRows)||!1;try{if(t){const e=new FileReader;e.onload=t=>{const e=r.read(t.target.result,{type:"binary"}),o=this.getSheet(e);n.next(o)},e.readAsBinaryString(t)}}catch(i){n.next(o)}})}getSheet(t){const e=[];for(const n of t.SheetNames){const o=t.SheetNames.reduce((e,o)=>(e[o]=this.getContentByFileName(t,n),e),{});e.push({sheetName:n,content:o[n]})}return e}getContentByFileName(t,e){let n=[];const o=t.Sheets[e];return n=r.utils.sheet_to_json(o,{blankrows:!!this.includeBlankRows,defval:"",range:this.builderRange(o)}),n.map((t,e)=>(t.numLine=e+1+1,t))}builderRange(t,e,n){return t["!ref"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);